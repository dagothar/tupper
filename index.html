<html lang="en">

<head>
  <meta charset="utf-8"/>
  <title>Tupper's Self-Referential Formula</title>
</head>

<body>

  <div>
    <div id="view_div"></div>
  
    <div id="formula_div">
      <form>
        <label>k = </label><input type="number"/>
      </form>
    </div>
  </div>
  
  <!-- JS -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="http://peterolson.github.com/BigInteger.js/BigInteger.min.js"></script>
  
  <script>
    "use strict";
    
    /* --- ARRAY 2D -------------------------------------------------------- */
    var Array2D = (function() {
    
      /**
       * @brief Constructor.
       */
      function Array2D(width, height, value) {
        if (value === undefined) value = 0;
        this.width = width;
        this.height = height;
        this.data = [];
        for (var i = 0; i < width; ++i) {
          data[i] = [];
          for (var j = 0; j < height; ++j) {
            data[i].push(value);
          }
        }
      }
      
      
      Array2D.prototype.get = function(i, j) { return this.data[i][j]; };
      Array2D.prototype.set = function(i, j, val) { this.data[i][j] = val; };
      
      
      return Array2D;
    } ());
    
    
    /* --- TUPPER ---------------------------------------------------------- */
    var Tupper = (function() {
    
      //! Converts k number to bit array.
      var toArray = function(k) {
        var array = new Array2D(106, 17, 0);
        return array;
      };
      
      
      //! Converts an array to k number.
      var toNumber = function(a) {
      };
      
      
      return {
        toArray:  toArray,
        toNumber: toNumber
      };
    } ());
    
    
    /* --- APP ------------------------------------------------------------- */
    var App = (function() {
    
      //! Configuration.
      var CONFIG = {
        VIEW_DIV_ID:  '#view_div',
        PLOT_WIDTH:   800,
        PLOT_HEIGHT:  600
      };
      
      
      /**
       * @brief Constructor.
       */
      function App() {
        this.plotCanvas = undefined;
      
        this.initialize();
      }
      
      
      /**
       * @brief Initializes the application.
       * Binds UI elements and event callbacks.
       */
      App.prototype.initialize = function() {
        // create the plot canvas
        this.plotCanvas = $('<canvas/>').prop({
          width: CONFIG.PLOT_WIDTH,
          height: CONFIG.PLOT_HEIGHT
        });
        $(CONFIG.VIEW_DIV_ID).append(this.plotCanvas);
      };
      
      
      /**
       * @brief Starts the application.
       */
      App.prototype.run = function() {
        console.log('Starting!');
      };
      
      
      //! Re-draws Tupper formula plot.
      App.prototype.updatePlot = function() {
      };
    
    
      return App;
    } ());
  
  
    /* --- MAIN ------------------------------------------------------------ */
    $(document).ready(function() {
      var app = new App();
      app.run();
    });
  </script>

</body>

</html>